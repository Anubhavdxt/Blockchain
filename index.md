# Dive into Blockchain & Web3

<!-- ## Contents

1. [Blockchain Basics](#blockchain-basics)
    1. [Blockchain Defined](#blockchain-defined)
    2. [Blockchain Structure](#blockchain-structure)
    3. [Basic Operations](#basic-operations)
    4. [Beyond Bitcoin](#beyond-bitcoin)
2. [Ethereum Blockchain](#ethereum-blockchain)
    1. [Ethereum Structure](#ethereum-blockchain)
    2. [Ethereum Operations](#ethereum-operations)
    3. [Incentive Model](#incentive-model)
    4. [Smart Contracts](#smart-contracts) -->

## Blockchain Basics

### Blockchain Defined

- Unlike traditional methods, blockchain enables **P2P** (peer to peer) transfer of digital assets without any intermediaries.
- It was a technology originally created to support the famous cryptocurrency, BitCoin.
- The blockchain permeated a broad range of applications across finance, healthcare, government, manufacturing, and distribution.

#### The applications of blockchain

- Goods transfer,for example, supply chain.
- Digital media transfer,for example, sale of art. Remote services delivery,example, travel and tourism.
- Platform for decentralized business logic,for example, moving computing to data sources.
- Distributed intelligence,example, education credentialing.
- Distributed resources, for example, power generation and distribution.
- Crowd funding for example,startup fund raising.
- Crowd operations, for example, electronic voting.
- Identity management, for example, one ID for all your life's functions.
- And government public records and open governing.
- Blockchain can enable an inclusive economy.
- It can enable a person in a remote corner of the world to partake in a democratic process.

#### Two major contributions of cryptocurrency Bitcoin

- A continuously working digital currency system
- A model for autonomous decentralized application technology called the blockchain

Around 2008, 2009, when the institutions and markets we trusted went crumbling down, and everybody was running away from the Wall Street, a mysterious person, or persons, called **Satoshi Nakamoto**, introduced a new digital currency, a cryptocurrency called Bitcoin.

Bitcoin enabled an innovative platform for peer to peer transfer of value without any central authority.
By implementing software programs for validation, verification, consensus in a novel infrastructure called the blockchain.
Later on in about 2012, 2013, computation elements were added to the blockchain infrastructure that has opened up a whole world of possibilities beyond simple currency transfer.

Blockchain is about enabling peer to peer transaction in a decentralized network. Establishing trust among unknown peers. Recording the transaction in an immutable distributed ledger.

#### Example

In a **Centralized system** scenario where customer wants to buy an item using the credit card intermediaries involved are:

1. Credit card agency
2. Customer bank
3. Credit cards bank
4. An exchange
5. The merchant's bank
6. The merchant.

But in a **Decentralized system** peers can transact directly with each other irrespective of where they are located. Functions of the intermediaries are shifted to the periphery to the peer participant in the blockchain infrastructure. Peers are not necessarily known to each other.

#### Establishing trust

- Validation & Verification: Validate, verify, and confirm transactions.
- Immutable recording: Record the transaction in a distributed ledger of blocks. Create a tamper-proof record of blocks, chain of blocks.
- Consensus: Implement a consensus protocol for agreement on the block to be added to the chain.
- Summarizing, blockchain technology supports methods for a decentralized peer-to-peer system, a collective trust model, and a distributed immutable ledger of records of transactions.

### Blockchain Structure

- Transaction is the basic element of the Bitcoin Blockchain.
- Transactions are validated and broadcast.
- Many transactions form a block.
- Many box form a chain through a digital data link.
- Blocks go through a consensus process, to select the next block that will be added to the chain.
- Chosen block is verified, and added to the current chain.
- Validation and consensus process are carried out by special peer nodes called **miners**.
- These are powerful computers executing software defined by the blockchain protocol.

#### Single transaction in bitcoin

- A fundamental concept of a bitcoin network is an Unspent Transaction Output, also known as UTXO.
- The set of all UTXOs in a bitcoin network collectively defined the state of the Bitcoin Blockchain.
- UTXO's are referenced as inputs in a transaction.
- UTXO's those are also outputs generated by a transaction.
- All of that UTXO's is in a system, are stored by the participant nodes in a database.

#### Role and structure of the UTXO's in a Bitcoin Blockchain

The transaction uses the amount specified by one or more UTXOs and transmits it to one or more newly created output UTXOs, according to the request initiated by the sender.

- Unique identifier of the transaction that created this UTXO
- An index or the position of the UTXO in the transaction output list
- A value or the amount it is good for
- An optional script, the condition under which the output can be spent.

##### The transaction includes

- A reference number of the current transaction
- References to one no more input UTXOs
- References to one or more output UTXOs newly generated by the current transaction
- Total input amount and output amount

Participants can validate the transaction contents.
The UTXO's reference input exist in the network state.

### Basic Operations

Operations in the decentralized network are the responsibility of the peer participants and their respective computational nodes.

- Laptop
- Desktop
- Server racks

#### Operations include

- Validation transactions
- Gathering the transactions for a block
- Broadcasting the ballot transactions in the block
- Consensus on the next block creation
- Chaining the blocks to form an immutable record

#### Role of miners

Participants that initiate transfer of value by creating a transaction, additional participants called miners, who pick on added work or computation. They miners are incentivised with bitcoins for the efforts in managing the blockchain.

- To verify transactions
- Broadcast transaction
- Compete to claim the right to create a block
- Work on reaching consensus by validating the block
- Broadcasting the newly created block
- Confirming transactions.

##### Transaction validation criteria

Transaction validation is carried out independently by all miners which involves validation of more than 20 criteria, including size, syntax, etc.

- Referenced Input Unspent Transaction Output
- UTXOs are valid
- Reference output UTXOs are correct
- Reference input amount and output amount matched sufficiently
- Invalid transactions are rejected and will not be broadcast

#### Addition of a new block

##### Challenge

1. All the valid transactions are added to a pool of transactions.
2. Miners select a set of transaction from this pool to create a block.
3. This creates a challenge.
4. If every miner adds the block to the chain, there will be many branches to the chain, resulting in inconsistent state.
5. The blockchain is a single consistent linked chain of flux.

##### Solution

1. Miners compete to solve a puzzle to determine who earn the right to create the next block.
2. In case of bitcoin blockchain, this is computational and CPU intensive.
3. Once a miner solves the puzzle, the announcement and the block are broadcast to the network.
4. Then, other participant verify the new block.
5. Participants reach a consensus to add a new block to the chain.
6. This new block is added to their local copy of the blockchain.
7. Thus, a new set of transactions are recorded and confirmed.

![Addition of a new block](Basic-operations.png)

#### Algorithm

- The algorithm for consensus is called proof-of -work protocol
- It involves computational power to solve the puzzle and to claim the right to form the next block.
- Transaction zero, index zero of the confirmed block is created by the miner of the block.
- It has a special UTXO and does not have any input UTXO.
- It is called the coinbase transaction that generates a minor's fees for the block creation.
- Currently, the minor's fees is 12.5 BTC for a bitcoin.
- This is how a new coin is mined in bitcoin blockchain.

### Beyond Bitcoin

- Let's now look beyond Bitcoin.
- Bitcoin blockchain is open-source and the entire code is available on the GitHub.
- During the initial years beginning roughly in 2009, this open-source code was extended to release different cryptocurrencies.
- About 300 plus cryptocurrencies were introduced.
- Bitcoin supports an optional and special feature called scripts for conditional transfer of values.

#### Birth Of Ethereum Blockchain

- Ethereum Blockchain extended the scripting feature into a full-blown code execution framework called smart contract.
- A smart contract provide the very powerful capability of code execution for embedding business logic on the blockchain.

- Based on such capabilities, three major types of blockchains emerge from Bitcoin foundation:

    1. Type one deals with the coins in cryptocurrency currency chain. Example, Bitcoin.
    2. Type two supports cryptocurrency and a business logic layer supported by code execution. Example, ethereum.
    3. Type three involves no currency but supports software execution for business logic. Example, The Linux Foundation's Hyperledger.

- With the addition of code execution, comes the serious consideration about public access to the blockchain hence, the classification of public, private, and permissioned blockchains based on access limits.

#### Public Blockchain

- We have been watching Bitcoin blockchain continuously operational since its inception all supported by its public participants.
- Thus Bitcoin is a fantastic example of a public blockchain class.
- Anybody can join and leave as they wish.
- Transaction blocks and the blockchain are publicly observable even though participants are anonymous.
- It is open-source.
- You can also create new coin digital currency by modifying the Bitcoin code.
- Wallet applications provide the basic interface to transfer value through the Bitcoin blockchain.

#### Private Blockchain

- In a private blockchain, access to the blockchain is limited to selected participants.
- One such example, those participants within an organization.
- This restriction helps in simplifying the normal operations such as block creation and contingence model.
- For example, **HyperLedger** by *The Linux Foundation*

#### Permissioned Blockchain

- The third classification of blockchain is permissioned blockchain, also called consortium blockchain.
- It is meant for a consortium of collaborating parties to transact on a blockchain for ease of governance, provenance, and accountability.
- Permissioned blockchain has the benefits of a public blockchain with allowing only users with permission to collaborate and transact.
- For example, a consortium of all automobile companies or healthcare organizations.

## Ethereum Blockchain

### Ethereum Structure

### Ethereum Operations

### Incentive Model

### Smart Contracts
